<!DOCTYPE html>
<html>
<head>
  <title>Popcorn Code Plugin Demo</title>

  <script src="../../popcorn.js"></script>
  <script src="popcorn.code.js"></script>
  <script>
   var output;

   document.addEventListener('DOMContentLoaded', function () {
     output = document.getElementById('output');

     var p = Popcorn('#video')

     .code({
        start: 1,
        end: 3,
        onStart: function( options ) {
          output.innerHTML = 'Test 1 - onStart (no onEnd)';
        }
      })

      .code({
        start: 5,
        end: 8,
        onStart: function( options ) {
          output.innerHTML = 'Test 2 - onStart';
        },
        onEnd: function ( options ) {
          output.innerHTML = 'Test 2 - onEnd';
        }
      })

      .code({
        start: 10,
        end: 14,
        onStart: function( options ) {
          output.innerHTML = 'Test 3 - onStart [Frames: ';
        },
        onFrame: function ( options ) {
          output.innerHTML += '.';
        },
        onEnd: function ( options ) {
          output.innerHTML += '] Test 3 - onEnd';
        }
      })

      .volume(0)
      .play();
    }, false);
  </script>
</head>
<body>
  <h1 id="qunit-header">Popcorn Code Plugin Demo</h1>
  <p>Arbitrary JavaScript functions are run.</p>
  <div>
    <video id='video'
      autobuffer
      preload="auto"
      controls
      width= '250px'
      poster="../../test/poster.png">

      <source id='mp4'
        src="../../test/trailer.mp4"
        type='video/mp4; codecs="avc1, mp4a"'>

      <source id='ogv'
        src="../../test/trailer.ogv"
        type='video/ogg; codecs="theora, vorbis"'>

      <p>Your user agent does not support the HTML5 Video element.</p>

    </video>
  </div>
  <div style="width:700px">
    <div>Code Plugin Output</div>
    <div id="output" style="position:relative;float:left;width:300px;height:400px"></div>
  </div>
</body>
</html>
